{"version":3,"sources":["images/header/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","images/elements/Galickii-park.jpg","utils/constants.js","utils/authorization.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/AuthComponent.js","components/Login.js","components/InfoTooltip.js","components/Register.js","components/ProtectedRoute.js","images/InfoTooltip/Fail.svg","images/InfoTooltip/Success.svg","components/App.js","index.js"],"names":["Header","props","location","useLocation","React","useState","action","pathname","link","actionObj","setActionObj","email","useEffect","className","src","logo","alt","to","onClick","logOut","value","currentTarget","innerText","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLike","likes","some","like","onCardDelete","name","onCardClick","onCardLike","length","Main","cardsArr","cards","map","onEditAvatar","style","backgroundImage","avatar","type","onEditProfile","about","onAddPlace","Footer","ImagePopup","isTooltip","onClose","api","options","this","_url","url","_headers","headers","fetch","then","_resolve","data","method","body","JSON","stringify","id","response","ok","json","Promise","reject","status","authorization","auth","_a","password","jwt","Object","assign","PopupWithForm","isOpen","onSubmit","title","children","buttonText","EditProfilePopup","setName","description","setDescription","childrenEditProfile","placeholder","required","minLength","maxLength","onChange","evt","newDescriptiopn","preventDefault","onUpdateUser","EditAvatarPopup","inputRef","useRef","childrenEditAvatar","ref","current","onUpdateAvatar","AddPlacePopup","imageLink","setImageLink","childrenAddPlace","AuthComponent","placeholders","setEmail","setPassword","e","submitTitle","isReg","Login","onSignedIn","InfoTooltip","succsessObj","image","caption","Register","onSignedUp","ProtectedRoute","Component","component","loggedIn","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","setCurrentUser","selectedCard","setSelectedCard","setCards","setLoggedIn","setSuccessObj","currentLogin","setCurrentLogin","history","useHistory","err","console","log","handleAuth","result","token","undefined","logoFail","clickEscape","keyCode","closeAllPopups","localStorage","getItem","checkUser","push","catch","all","getUserInfo","getCards","userInfo","cardsList","document","addEventListener","removeEventListener","closeOverlay","target","classList","contains","removeItem","Provider","path","signUp","logoSuccess","signIn","setItem","i","changeLike","newCard","newCards","c","delCard","deleteCard","filter","changeUserInfo","addCard","changeAvatar","ReactDOM","render","StrictMode","getElementById"],"mappings":"iOAAe,MAA0B,iC,OCwC1BA,MApCf,SAAiBC,GACf,IAAMC,EAAYC,cAClB,EAAkCC,IAAMC,SAAS,CAC/CC,OAA8B,aAAtBJ,EAASK,SAA0B,iCAAU,qEACrDC,KAA2B,aAAtBN,EAASK,SAA0B,WAAY,aAFtD,mBAAOE,EAAP,KAAkBC,EAAlB,KAGIC,EAAQV,EAAMU,MAmBlB,OAXAP,IAAMQ,WAAY,WAEdF,EADEC,EACW,CAACL,OAAQ,iCAASE,KAAM,YAExB,CACXF,OAA8B,aAAtBJ,EAASK,SAA0B,iCAAU,qEACrDC,KAA2B,aAAtBN,EAASK,SAA0B,WAAY,eAGvD,CAACI,EAAOT,IAGT,yBAAQW,UAAU,sBAAlB,UACA,qBAAKA,UAAU,eAAeC,IAAKC,EAAMC,IAAI,oFAC7C,gCACIL,EAAQ,sBAAME,UAAU,gBAAhB,SAAiCF,IAAgB,KAC3D,cAAC,IAAD,CAAME,UAAS,yBAAoBF,EAAQ,4BAA8B,IACvEM,GAAIR,EAAUD,KAAMU,QAAUP,EAAQV,EAAMkB,OAvB9B,SAACC,GACnB,IAAMd,EAA2C,uEAAlCc,EAAMC,cAAcC,UAA8B,iCAAU,qEACrEd,EAAyC,uEAAlCY,EAAMC,cAAcC,UAA8B,WAAa,WAC5EZ,EAAa,CAACJ,SAAQE,UAmBpB,SACsEC,EAAUH,gBCjCzEiB,EAAqBnB,IAAMoB,gBCiCzBC,MAhCf,SAAexB,GACb,IAAMyB,EAActB,IAAMuB,WAAWJ,GAU/BK,EAAQ3B,EAAM4B,KAAKC,MAAMC,MAAQL,EAAYK,IAC7CC,EAAS/B,EAAM4B,KAAKI,MAAMC,MAAK,SAACC,GAAD,OAAUA,EAAKJ,MAAQL,EAAYK,OACxE,OACM,qBAAIlB,UAAU,UAAd,UACE,qBAAKA,UAAS,0BAAqBe,EAAQ,yBAA2B,IAAtE,SACE,wBAAQf,UAAU,yBAAyBK,QARhC,WACnBjB,EAAMmC,aAAanC,EAAM4B,WASnB,qBAAKhB,UAAU,iBAAiBC,IAAKb,EAAM4B,KAAKrB,KAAMQ,IAAKf,EAAM4B,KAAKQ,KACpEnB,QAjBU,WAClBjB,EAAMqC,YAAYrC,EAAM4B,SAkBlB,sBAAKhB,UAAU,iBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BZ,EAAM4B,KAAKQ,OAC1C,sBAAKxB,UAAU,sBAAf,UACE,wBAAQA,UAAS,wBAAmBmB,EAAS,uBAAyB,IAAMd,QAnBrE,WACjBjB,EAAMsC,WAAWtC,EAAM4B,SAmBb,sBAAMhB,UAAU,wBAAhB,SAAyCZ,EAAM4B,KAAKI,MAAMO,mBCvBzD,SAASC,EAAMxC,GAC5B,IAAMyB,EAActB,IAAMuB,WAAWJ,GAC7BmB,EAAWzC,EAAM0C,MAAMC,KAAI,SAACf,GACjC,OACG,cAAC,EAAD,CAAqBA,KAAMA,EACzBS,YAAarC,EAAMqC,YACnBC,WAAYtC,EAAMsC,WAClBH,aAAcnC,EAAMmC,cAHXP,EAAKE,QAOpB,OACE,uBAAMlB,UAAU,OAAhB,UACE,0BAASA,UAAU,wBAAnB,UACE,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,kBAAkBK,QAASjB,EAAM4C,aAC9CC,MAAO,CAACC,gBAAgB,OAAD,OAASrB,EAAYsB,OAArB,QACzB,sBAAKnC,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+Ba,EAAYW,OAC3C,wBAAQxB,UAAU,gBAAgBoC,KAAK,SAAS,aAAW,OAAO/B,QAASjB,EAAMiD,gBACjF,mBAAGrC,UAAU,uBAAb,SAAqCa,EAAYyB,cAGrD,wBAAQtC,UAAU,sBAAsBoC,KAAK,SAAS,aAAW,MAAM/B,QAASjB,EAAMmD,gBAGxF,yBAASvC,UAAU,0BAAnB,SACE,oBAAIA,UAAU,iBAAd,SAEG6B,SCjCE,SAASW,EAAQpD,GAC9B,OACE,wBAAQY,UAAU,sBAAlB,mCCYWyC,MAdf,SAAqBrD,GACjB,OACA,0BAASY,UAAS,iCAA4BZ,EAAMsD,WAAa,sBAA/C,YAAwEtD,EAAM4B,MAAQ,gBACtGX,QAASjB,EAAMuD,QADjB,UAEA,wBAAQ3C,UAAU,sBAAsBoC,KAAK,QAAQ,aAAW,UAChE,yBAAQpC,UAAS,yCAAoCZ,EAAMsD,WAAa,WAAxE,UACE,qBAAK1C,UAAS,uBAAkBZ,EAAMsD,WAAa,gBAAkBzC,IAAKb,EAAM4B,MAAQ5B,EAAM4B,KAAKrB,KACjGQ,IAAKf,EAAM4B,MAAQ5B,EAAM4B,KAAKQ,OAChC,4BAAYxB,UAAS,4BAAuBZ,EAAMsD,WAAa,oBAA/D,SAAsFtD,EAAM4B,MAAQ5B,EAAM4B,KAAKQ,c,gBC+FtGoB,GCvGA,IDkGH,I,WA/FV,WAAYC,GAAU,oBACpBC,KAAKC,KAAOF,EAAQG,IACpBF,KAAKG,SAAWJ,EAAQK,Q,+CAG1B,WACE,OAAOC,MAAM,GAAD,OAAIL,KAAKC,KAAT,aAA0B,CACpCG,QAASJ,KAAKG,WAEfG,KAAKN,KAAKO,Y,sBAGb,SAASL,GACP,OAAOG,MAAM,GAAD,OAAIL,KAAKC,KAAT,UAAuB,CACjCG,QAASJ,KAAKG,WAEfG,KAAKN,KAAKO,Y,4BAGb,SAAeC,GACb,OAAOH,MAAM,GAAD,OAAIL,KAAKC,KAAT,aAA0B,CACpCQ,OAAQ,QACRL,QAASJ,KAAKG,SACdO,KAAMC,KAAKC,UAAU,CACnBlC,KAAM8B,EAAK9B,KACXc,MAAOgB,EAAKhB,UAGfc,KAAKN,KAAKO,Y,0BAGb,SAAaC,GACX,OAAOH,MAAM,GAAD,OAAIL,KAAKC,KAAT,oBAAiC,CAC3CQ,OAAQ,QACRL,QAASJ,KAAKG,SACdO,KAAMC,KAAKC,UAAU,CACnBvB,OAAQmB,EAAKnB,WAGhBiB,KAAKN,KAAKO,Y,qBAGb,SAAQC,GACN,OAAOH,MAAM,GAAD,OAAIL,KAAKC,KAAT,UAAuB,CACjCQ,OAAQ,OACRL,QAASJ,KAAKG,SACdO,KAAMC,KAAKC,UAAU,CACnBlC,KAAM8B,EAAK9B,KACX7B,KAAM2D,EAAK3D,SAGdyD,KAAKN,KAAKO,Y,wBAGb,SAAWM,GACT,OAAOR,MAAM,GAAD,OAAIL,KAAKC,KAAT,kBAAuBY,GAAM,CACvCJ,OAAQ,SACRL,QAASJ,KAAKG,WAEfG,KAAKN,KAAKO,Y,wBAGb,SAAWM,EAAIxC,GACb,IAAMoC,EAASpC,EAAS,MAAQ,SAChC,OAAOgC,MAAM,GAAD,OAAIL,KAAKC,KAAT,wBAA6BY,GAAM,CAC7CJ,OAAQA,EACRL,QAASJ,KAAKG,WAEfG,KAAKN,KAAKO,Y,wBAGb,SAAWM,GACT,OAAOR,MAAM,GAAD,OAAIL,KAAKC,KAAT,wBAA6BY,GAAM,CAC7CJ,OAAQ,SACRL,QAASJ,KAAKG,WAEfG,KAAKN,KAAKO,Y,qBAGb,SAAQM,GACN,OAAOR,MAAM,GAAD,OAAIL,KAAKC,KAAT,wBAA6BY,GAAM,CAC7CJ,OAAQ,MACRL,QAASJ,KAAKG,WAEfG,KAAKN,KAAKO,Y,sBAGb,SAASO,GACP,OAAGA,EAASC,GACHD,EAASE,OAEXC,QAAQC,OAAR,gDAA0BJ,EAASK,a,KAIlC,CAAQ,CAACjB,IAAK,8CAA+CE,QAAS,CAChFgB,cE7DY,uCF8DZ,eAAgB,uBGvCHC,EALF,I,WAvDX,WAAYtB,GAAU,oBACpBC,KAAKC,KAAOF,EAAQG,IACpBF,KAAKG,SAAWJ,EAAQK,QACxBJ,KAAKsB,GAAK,U,0CAOZ,YAA4B,IAAnBtE,EAAkB,EAAlBA,MAAOuE,EAAW,EAAXA,SACd,OAAOlB,MAAM,GAAD,OAAIL,KAAKC,KAAT,WAAuB,CACjCQ,OAAQ,OACRL,QAASJ,KAAKG,SACdO,KAAMC,KAAKC,UAAU,CACnBW,WACAvE,YAGHsD,KAAKN,KAAKO,Y,oBAKb,YAA4B,IAAnBvD,EAAkB,EAAlBA,MAAOuE,EAAW,EAAXA,SACd,OAAOlB,MAAM,GAAD,OAAIL,KAAKC,KAAT,WAAwB,CAClCQ,OAAQ,OACRL,QAASJ,KAAKG,SACdO,KAAMC,KAAKC,UAAU,CACnBW,WACAvE,YAGHsD,KAAKN,KAAKO,Y,uBAKb,YAAkB,IAAPiB,EAAM,EAANA,IACHpB,EAAUqB,OAAOC,OAAO1B,KAAKG,UAEnC,OADAC,EAAO,cAAP,iBAAqCoB,GAC9BnB,MAAM,GAAD,OAAIL,KAAKC,KAAT,aAA0B,CACpCQ,OAAQ,MACRL,YAEDE,KAAKN,KAAKO,Y,sBAEb,SAASO,GACP,OAAGA,EAASC,GACHD,EAASE,OAEXC,QAAQC,OAAR,gDAA0BJ,EAASK,a,KAIjC,CAAkB,CAACjB,IAAK,gCAAiCE,QAAS,CAC7E,eAAgB,qBAEf,QC5CYuB,MAff,SAAwBrF,GACtB,OACE,0BAASY,UAAS,2BAAsBZ,EAAMoC,KAA5B,YAAoCpC,EAAMsF,QAAU,gBACpErE,QAASjB,EAAMuD,QADjB,UAGA,wBAAQ3C,UAAU,sBAAsBoC,KAAK,QAAQ,aAAW,UAChE,uBAAMpC,UAAU,mBAAmBwB,KAAMpC,EAAMoC,KAAMmD,SAAUvF,EAAMuF,SAArE,UACE,oBAAI3E,UAAU,eAAd,SAA8BZ,EAAMwF,QACnCxF,EAAMyF,SACP,wBAAQ7E,UAAU,uCAAuCoC,KAAK,SAA9D,SAAwEhD,EAAM0F,oBC6CrEC,MAlDf,SAA2B3F,GAEzB,IAAMyB,EAActB,IAAMuB,WAAWJ,GAErC,EAAwBnB,IAAMC,SAAS,kEAAvC,mBAAOgC,EAAP,KAAawD,EAAb,KACA,EAAsCzF,IAAMC,SAAS,6HAArD,mBAAOyF,EAAP,KAAoBC,EAApB,KAYA3F,IAAMQ,WAAU,WACXc,EAAW,MAAWmE,EAAQnE,EAAYW,MAC1CX,EAAW,OAAYqE,EAAerE,EAAYyB,SACpD,CAACzB,EAAazB,EAAMsF,SAEvB,IAMMS,EACJ,qCACE,uBAAOnF,UAAU,yCAAyCwB,KAAK,eAAeY,KAAK,OAAOgD,YAAY,qBACpGC,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKhF,MAAOiB,EAAMgE,SAxBtC,SAACC,GAElBT,EAAQS,EAAIjF,cAAcD,UAuBxB,sBAAMP,UAAU,gDAChB,uBAAOA,UAAU,gDAAgDwB,KAAK,eAAeY,KAAK,OACxFgD,YAAY,4HAAwBC,UAAQ,EAACC,UAAU,IAAIC,UAAU,MAAMhF,MAAO0E,EAAaO,SAvB3E,SAACC,GACzB,IAAMC,EAAkBD,EAAIjF,cAAcD,MAAQkF,EAAIjF,cAAcD,MAAQ0E,EAC5EC,EAAeQ,MAsBb,sBAAM1F,UAAU,mDAIpB,OACE,cAAC,EAAD,CAAewB,KAAK,cAAcoD,MAAM,4HAC9BF,OAAQtF,EAAMsF,OACd/B,QAASvD,EAAMuD,QACfgC,SArBS,SAACc,GAEpBA,EAAIE,iBACJvG,EAAMwG,aAAa,CAACpE,OAAMc,MAAO2C,KAmBvBH,WAAW,yDAJrB,SAKWK,KCrBAU,MAzBf,SAA0BzG,GAExB,IAAM0G,EAAWvG,IAAMwG,OAAO,MAQxBC,EACJ,qCACE,uBAAOhG,UAAU,0EAA0EwB,KAAK,oBAAoBY,KAAK,MACvHgD,YAAY,qGAAqBa,IAAKH,IACxC,sBAAM9F,UAAU,wDAGpB,OACE,cAAC,EAAD,CAAewB,KAAK,aAAaoD,MAAM,wFAAmBE,WAAW,yDACnEJ,OAAQtF,EAAMsF,OAAQ/B,QAASvD,EAAMuD,QAASgC,SAf7B,SAACc,GACpB,IAAMtD,EAAS2D,EAASI,QAAQ3F,MAChCkF,EAAIE,iBACJvG,EAAM+G,eAAehE,IAWrB,SAES6D,KCgBEI,MApCf,SAAwBhH,GAEtB,MAAwBG,IAAMC,SAAS,IAAvC,mBAAOgC,EAAP,KAAawD,EAAb,KACA,EAAkCzF,IAAMC,SAAS,IAAjD,mBAAO6G,EAAP,KAAkBC,EAAlB,KAeMC,EACJ,qCACE,uBAAOvG,UAAU,yCAAyCwB,KAAK,qBAAqBY,KAAK,OAAQgD,YAAY,mDAC3GC,UAAQ,EAACC,UAAU,IAAIC,UAAU,KAAKhF,MAAOiB,EAAMgE,SAhBtC,SAACC,GAClBT,EAAQS,EAAIjF,cAAcD,UAgBxB,sBAAMP,UAAU,sDAChB,uBAAOA,UAAU,gDAAgDwB,KAAK,4BAA4BY,KAAK,MACrGgD,YAAY,qGAAqB7E,MAAO8F,EAAWb,SAhBjC,SAACC,GACvBa,EAAab,EAAIjF,cAAcD,UAgB7B,sBAAMP,UAAU,gEAGpB,OACE,cAAC,EAAD,CAAewB,KAAK,WAAWoD,MAAM,gEAAcF,OAAQtF,EAAMsF,OACvD/B,QAASvD,EAAMuD,QAASmC,WAAW,6CAAUH,SAlBpC,SAACc,GACpBA,EAAIE,iBACJvG,EAAMmD,WAAW,CAACf,OAAM7B,KAAM0G,IAC9BrB,EAAQ,IACRsB,EAAa,KAab,SAEWC,KCLAC,MA3Bf,SAAwBpH,GACtB,IAAMqH,EAAerH,EAAMqH,aAC3B,EAA0BlH,IAAMC,SAAS,IAAzC,mBAAOM,EAAP,KAAc4G,EAAd,KACA,EAAgCnH,IAAMC,SAAS,IAA/C,mBAAO6E,EAAP,KAAiBsC,EAAjB,KASA,OACE,sBAAK3G,UAAU,sCAAf,UACA,oBAAIA,UAAU,mBAAd,SAAkCZ,EAAMwF,QACxC,uBAAM5E,UAAU,YAAY2E,SAPT,SAACiC,GACpBA,EAAEjB,iBACFvG,EAAMuF,SAAS,CAAC7E,QAAOuE,cAKvB,UACE,uBAAOrE,UAAU,oCAAoCwB,KAAK,YAAYY,KAAK,QAAQgD,YAAaqB,EAAa,GAC3GlG,MAAOT,EAAO0F,SAAW,SAACC,GAAUiB,EAASjB,EAAIjF,cAAcD,UACjE,uBAAOP,UAAU,uCAAuCwB,KAAK,eAAeY,KAAK,WAAWgD,YAAaqB,EAAa,GACpHlG,MAAO8D,EAAUmB,SAAW,SAACC,GAAUkB,EAAYlB,EAAIjF,cAAcD,UACvE,wBAAQP,UAAU,qBAAqBoC,KAAK,SAA5C,SAAsDhD,EAAMyH,cAC1DzH,EAAM0H,MAAQ,cAAC,IAAD,CAAM9G,UAAU,mBAAmBI,GAAG,WAAtC,iKAAsF,YCZ7F2G,MARf,SAAgB3H,GACd,OACE,cAAC,EAAD,CAAewF,MAAOxF,EAAMwF,MAAOiC,YAAazH,EAAMyH,YAAaJ,aAAcrH,EAAMqH,aACrF9B,SAAUvF,EAAM4H,cCKPC,MATf,SAAsB7H,GACpB,OACI,cAAC,EAAD,CAAY4B,KAAM5B,EAAM8H,YAAYC,MAAQ,CAACxH,KAAMP,EAAM8H,YAAYC,MAAO3F,KAAMpC,EAAM8H,YAAYE,SAAW,KAC7G1E,WAAW,EACXC,QAASvD,EAAMuD,WCqBR0E,MAxBf,SAAmBjI,GAcjB,OACE,cAAC,EAAD,CAAewF,MAAOxF,EAAMwF,MAC1BiC,YAAazH,EAAMyH,YACnBJ,aAAcrH,EAAMqH,aACpB9B,SAAUvF,EAAMkI,WAChBR,MAAO1H,EAAM0H,S,gCCVJS,EATQ,SAAC,GAAyC,IAA5BC,EAA2B,EAAtCC,UAAyBrI,EAAa,iBAC9D,OACE,cAAC,IAAD,UAEIA,EAAMsI,SAAW,cAACF,EAAD,eAAepI,IAAY,cAAC,IAAD,CAAUgB,GAAG,gBCPlD,MAA0B,iCCA1B,MAA0B,oCC2Q1BuH,MAvPf,SAAcvI,GAEZ,MAA4DG,IAAMC,UAAS,GAA3E,mBAAOoI,EAAP,KAA+BC,EAA/B,KACA,EAAoDtI,IAAMC,UAAS,GAAnE,mBAAOsI,EAAP,KAA4BC,EAA5B,KACA,EAA0DxI,IAAMC,UAAS,GAAzE,mBAAOwI,EAAP,KAA8BC,EAA9B,KACA,EAAsC1I,IAAMC,SAAS,IAArD,mBAAOqB,EAAP,KAAoBqH,EAApB,KACA,EAAwC3I,IAAMC,SAAS,MAAvD,mBAAO2I,EAAP,KAAqBC,EAArB,KACA,EAA0B7I,IAAMC,SAAS,IAAzC,mBAAOsC,EAAP,KAAcuG,EAAd,KACA,EAAgC9I,IAAMC,UAAS,GAA/C,mBAAOkI,EAAP,KAAiBY,EAAjB,KACA,EAAqC/I,IAAMC,SAAS,CAAC2H,MAAO,KAAMC,QAAS,OAA3E,mBAAOF,EAAP,KAAoBqB,EAApB,KACA,GAAwChJ,IAAMC,SAAS,MAAvD,qBAAOgJ,GAAP,MAAqBC,GAArB,MACMC,GAAUC,cAqBV3E,GAAS,SAAC4E,GAEdC,QAAQC,IAAIF,IAERG,GAAa,SAACC,GAClB,IAAI5B,EACFtH,EAAQkJ,EAAO1F,MAAQ0F,EAAO1F,KAAKxD,MAAQkJ,EAAO1F,KAAKxD,MAAQ,KAC7DmJ,EAAQD,EAAOC,MAAQD,EAAOC,MAAQ,KAGxC,YAFqBC,IAApBF,EAAM,QAA2B5B,EAAU4B,EAAM,YAC3BE,IAAtBF,EAAM,UAA6B5B,EAAU4B,EAAM,cACrCE,IAAZ9B,GACDmB,EAAc,CAACpB,MAAOgC,EAAU/B,YACzB,MAEAtH,GAAgBmJ,GAwCvBG,GAAc,SAAC3D,GA1EH,KA2EfA,EAAI4D,SACLC,MAIF/J,IAAMQ,WAAU,WAEd,IAAMuE,EAAMiF,aAAaC,QAAQ,SAwBjC,OAtBGlF,GACDH,EAAKsF,UAAU,CAACnF,QACflB,KAAM2F,IACN3F,MAAM,SAACtD,GAEHA,IACDwI,GAAY,GACZG,GAAgB3I,GAChB4I,GAAQgB,KAAK,SAGhBC,MAAM3F,IAITD,QAAQ6F,IAAI,CAAChH,EAAIiH,cAAejH,EAAIkH,aACnC1G,MAAK,YAA4B,IAAD,mBAAzB2G,EAAyB,KAAfC,EAAe,KAC/B9B,EAAe6B,GACf1B,EAAS2B,MAEVL,MAAM3F,IACPiG,SAASC,iBAAiB,QAASd,IAC5B,WACLa,SAASE,oBAAoB,QAASf,OAEvC,CAACV,GAAShB,IAIb,IAKM0C,GAAe,SAAC3E,IACjBA,EAAI4E,OAAOC,UAAUC,SAAS,UAAY9E,EAAI4E,OAAOC,UAAUC,SAAS,yBACzEjB,MAKEA,GAAiB,WACrBrB,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAqB,GACrBK,EAAgB,MAfbV,GAAYgB,GAAQgB,KAAK,KAC5BnB,EAAc,CAACpB,MAAO,KAAMC,QAAS,QA4EvC,OACE,sBAAKpH,UAAU,MAAf,UACE,cAAC,EAAD,CAAQF,MAAS0I,GAAclI,OARrB,WACdiJ,aAAaiB,WAAW,SACxBlC,GAAY,GACZG,GAAgB,SAMZ,eAAC/H,EAAmB+J,SAApB,CAA6BlK,MAAOM,EAApC,UACE,eAAC,IAAD,WAEA,cAAC,IAAD,CAAO6J,KAAK,WAAZ,SACE,cAAC,EAAD,CAAU9F,MAAM,qEAAciC,YAAY,+GAAqBJ,aAAc,CAAC,QAAS,wCACvFa,WA9Ja,SAAChE,GACpBa,EAAKwG,OAAOrH,GACXF,KAAK2F,IACL3F,MAAM,SAACtD,GACN2I,GAAgB3I,GAChBwI,GAAY,GACZC,EAAc,CAACpB,MAAOyD,EAAaxD,QAAS,6KAE7CuC,OAAO,SAAE/F,GACRI,GAAOJ,GACP2E,EAAc,CAACpB,MAAOgC,EAAU/B,QAAS,4MAoJXN,OAAO,MAInC,cAAC,IAAD,CAAO4D,KAAK,WAAZ,SACE,cAAC,EAAD,CAAO9F,MAAM,2BAAOiC,YAAY,iCAAQJ,aAAc,CAAC,QAAS,wCAC9DO,WAnJW,SAAC1D,GACpBa,EAAK0G,OAAOvH,GACXF,KAAM2F,IACN3F,MAAM,SAAC6F,GACNM,aAAauB,QAAQ,QAAS7B,GAC9BR,GAAgBnF,EAAKxD,OACrBwI,GAAY,GACZC,EAAc,CAACpB,MAAOyD,EAAaxD,QAAS,qJAE7CuC,OAAO,SAAE/F,GACRI,GAAOJ,GACP2E,EAAc,CAACpB,MAAOgC,EAAU/B,QAAS,gNA4IvC,cAAC,EAAD,CACMM,SAAUA,EACVgD,KAAK,IACLjD,UAAW7F,EACXS,cA/MmB,WAC7BwF,GAA0B,IA+MhBtF,WA3MgB,WAC1BwF,GAAqB,IA2MX/F,aArNkB,WAC5BiG,GAAyB,IAqNfxG,YAxMY,SAACT,GACvBoH,EAAgBpH,IAwMNc,MAAOA,EACPJ,WAtDW,SAACV,GACtB,IAAMG,EAASH,EAAKI,MAAMC,MAAK,SAAA0J,GAAC,OAAIA,EAAE7J,MAAQL,EAAYK,OAC1D0B,EAAIoI,WAAWhK,EAAKE,KAAMC,GACzBiC,MAAK,SAAC6H,GACL,IAAMC,EAAWpJ,EAAMC,KAAI,SAACoJ,GAAD,OAAOA,EAAEjK,MAAQ+J,EAAQ/J,IAAM+J,EAAUE,KACpE9C,EAAS6C,MAEVvB,MAAM3F,KAgDGzC,aA7CY,SAAC6J,GACxBxI,EAAIyI,WAAWD,EAAQlK,KACtBkC,MAAK,WACH,IAAM8H,EAAWpJ,EAAMwJ,QAAO,SAACtK,GAAD,OAAUoK,EAAQlK,MAAQF,EAAKE,IAAMF,EAAO,QAC1EqH,EAAS6C,MAEXvB,MAAM3F,OA0CA,cAACxB,EAAD,OAGF,cAAC,EAAD,CAAkBkC,OAAQkD,EAAwBjF,QAASyH,GAAcxE,aA3FtD,SAAC,GAAmB,IAAlBpE,EAAiB,EAAjBA,KAAMc,EAAW,EAAXA,MAC5Bd,GAAQc,GACTM,EAAI2I,eAAe,CAAC/J,OAAMc,UACzBc,MAAK,SAAC2G,GACL7B,EAAe6B,GACfT,QAEDK,MAAM3F,OAqFL,cAAC,EAAD,CAAeU,OAAQoD,EAAqBnF,QAASyH,GAAc7H,WAvElD,SAAC,GAAkB,IAAjBf,EAAgB,EAAhBA,KAAM7B,EAAU,EAAVA,KAC7BiD,EAAI4I,QAAQ,CAAChK,OAAM7B,SAClByD,MAAK,SAAC6H,GACJ5C,EAAS,CAAC4C,GAAF,mBAAcnJ,KACtBwH,QAEFK,MAAM3F,OAkEH,cAAC,EAAD,CAAYhD,KAAMmH,EAAcxF,QAASyH,KACzC,cAAC,EAAD,CAAiB1F,OAAQsD,EAAuBrF,QAASyH,GAAcjE,eAnFlD,SAAChE,GACvBA,GACDS,EAAI6I,aAAa,CAACtJ,WACjBiB,MAAK,SAACQ,GACLsE,EAAetE,GACf0F,QAEDK,MAAM3F,OA6EL,cAAC,EAAD,CAAakD,YAAaA,EAAavE,QAASyH,YC/PxDsB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJ3B,SAAS4B,eAAe,W","file":"static/js/main.3e6c4d5c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","\r\nimport React from 'react';\r\nimport logo from '../images/header/logo.svg';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nfunction Header (props){\r\n  const location  = useLocation();\r\n  const [actionObj, setActionObj] = React.useState({\r\n    action: location.pathname === '/sign-up' ? 'Войти' : 'Регистрация', \r\n    link:location.pathname === '/sign-up' ? '/sign-in': '/sign-up'});\r\n  let email = props.email;\r\n\r\n  const onClickLink = (value) => {\r\n    const action = value.currentTarget.innerText === 'Регистрация' ? 'Войти' : 'Регистрация';\r\n    const link = value.currentTarget.innerText === 'Регистрация' ? '/sign-in' : '/sign-up';\r\n    setActionObj({action, link});\r\n  }\r\n  \r\n  React.useEffect ( () => {\r\n    if (email) {\r\n      setActionObj({action: 'Выйти', link: '/sign-in'});\r\n    } else {\r\n      setActionObj({\r\n        action: location.pathname === '/sign-up' ? 'Войти' : 'Регистрация', \r\n        link:location.pathname === '/sign-up' ? '/sign-in': '/sign-up'\r\n      })\r\n    }\r\n  }, [email, location]);\r\n\r\n  return (\r\n    <header className=\"header body__header\">\r\n    <img className=\"header__logo\" src={logo} alt=\"Логотип сайта Mesto\"/>\r\n    <div>\r\n      { email ? <span className=\"header__email\">{email}</span> : null }\r\n      <Link className={`header__action ${email ? 'header__action_color_grey' : ''}`} \r\n        to={actionObj.link} onClick={ email ? props.logOut : onClickLink }>{actionObj.action}</Link>\r\n    </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nfunction Card (props){\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const handleClick = () => {\r\n    props.onCardClick(props.card)\r\n  }\r\n  const handleLike = () => {\r\n    props.onCardLike(props.card);\r\n  }\r\n  const handleDelete = () => {\r\n    props.onCardDelete(props.card)\r\n  }\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLike = props.card.likes.some((like) => like._id === currentUser._id)\r\n  return (\r\n        <li className=\"element\">\r\n          <div className={`element__delete ${isOwn ? 'element__delete_active' : ''}`}>\r\n            <button className=\"element__delete-button\" onClick={handleDelete}></button> \r\n          </div>\r\n          <img className=\"element__image\" src={props.card.link} alt={props.card.name}\r\n            onClick={handleClick}\r\n          />\r\n          <div className=\"element__group\">\r\n            <h2 className=\"element__name\">{props.card.name}</h2>\r\n            <div className=\"element__like-group\">\r\n              <button className={`element__like ${isLike ? 'element__like_active' : ''}`} onClick={handleLike}></button>\r\n              <span className=\"element__like-counter\">{props.card.likes.length}</span>\r\n            </div>\r\n          </div>\r\n        </li>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n// import { CardContext } from '../contexts/CardContext.js';\r\nexport default function Main (props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n    const cardsArr = props.cards.map((card) => {\r\n     return (\r\n        <Card key={card._id} card={card}\r\n          onCardClick={props.onCardClick}\r\n          onCardLike={props.onCardLike}\r\n          onCardDelete={props.onCardDelete}\r\n        />\r\n     )\r\n    });\r\n    return (\r\n      <main className=\"main\">\r\n        <section className=\"profile main__profile\">\r\n          <div className=\"profile__main-info\">\r\n            <div className=\"profile__avatar\" onClick={props.onEditAvatar}\r\n              style={{backgroundImage: `url(${currentUser.avatar})`}}></div>\r\n            <div className=\"profile__info\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button className=\"profile__edit\" type=\"button\" aria-label=\"Edit\" onClick={props.onEditProfile}></button>\r\n              <p className=\"profile__description\">{currentUser.about}</p>\r\n            </div>\r\n          </div>\r\n          <button className=\"profile__add-button\" type=\"button\" aria-label=\"Add\" onClick={props.onAddPlace}>\r\n          </button>\r\n        </section>\r\n        <section className=\"elements main__elements\">\r\n          <ul className=\"elements__list\">\r\n          {/* <CurrentUserContext.Provider value={currentUser}> */}\r\n            {cardsArr}\r\n          {/* </CurrentUserContext.Provider> */}\r\n          </ul>\r\n        </section>\r\n      </main>\r\n    )\r\n}","export default function Footer (props) {\r\n  return (\r\n    <footer className=\"footer body__footer\">\r\n      &copy;2021 Mesto Russia\r\n    </footer>\r\n  )\r\n}","function ImagePopup (props) {\r\n    return (\r\n    <section className={`popup popup_type_image ${props.isTooltip && 'popup_image-tooltip'} ${props.card && 'popup_opened'}`} \r\n      onClick={props.onClose}>\r\n    <button className=\"popup__close-button\" type=\"reset\" aria-label=\"Close\"></button>\r\n    <figure className={`popup__container popup__figure ${props.isTooltip && 'tooltip'}`}>\r\n      <img className={`popup__image ${props.isTooltip && 'tooltip__img'}`} src={props.card && props.card.link} \r\n        alt={props.card && props.card.name} />\r\n      <figcaption className={`popup__figcaption ${props.isTooltip && 'tooltip__caption'}`}>{props.card && props.card.name}</figcaption>\r\n    </figure>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","import {token} from './constants'\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  getCards(url) {\r\n    return fetch(`${this._url}/cards`, {\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  changeUserInfo(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  changeAvatar(data) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })    \r\n    .then(this._resolve);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  changeLike(id, isLike) {\r\n    const method = isLike ? 'PUT' : 'DELETE';\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: method,\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  addLike(id) {\r\n    return fetch(`${this._url}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n\r\n  _resolve(response) {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${response.status}`)\r\n  }\r\n}\r\n\r\nconst api = new Api({url: 'https://mesto.nomoreparties.co/v1/cohort-23', headers: {\r\n  authorization: token,\r\n  'Content-Type': 'application/json'\r\n}});\r\n\r\nexport default api","export default __webpack_public_path__ + \"static/media/Galickii-park.6927af07.jpg\";","import kras from '../images/elements/Galickii-park.jpg';\r\nconst ESC_CODE = 27;\r\nconst initialCards = [\r\n  {\r\n    name: 'Архыз',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg'\r\n  },\r\n  {\r\n    name: 'Челябинская область',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg'\r\n  },\r\n  {\r\n    name: 'Краснодар',\r\n    link: kras\r\n  },\r\n  {\r\n    name: 'Камчатка',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg'\r\n  },\r\n  {\r\n    name: 'Холмогорский район',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg'\r\n  },\r\n  {\r\n    name: 'Байкал',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg'\r\n  }\r\n];\r\n\r\nconst objFormParams = {\r\n  formSelector: '.popup__container',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__confirm',\r\n  inputError: 'popup__input_error',\r\n  inputErrorActive: 'popup__input-error_active',\r\n  saveButtonActive: 'popup__confirm_active'\r\n}\r\n\r\nconst token = 'e2787495-d10a-4c6a-a5f2-7d4ee36816fa';\r\n\r\nexport {ESC_CODE, initialCards, objFormParams, token};","class Authorization {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n    this._a = 'dsfsdfs';\r\n  }\r\n  /**\r\n   * метод отправки запроса регистрации\r\n   * @param {{email, password}}} data \r\n   * @returns Promise\r\n   */\r\n  signUp ({email, password}) {\r\n    return fetch(`${this._url}/signup`,{\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        password,\r\n        email\r\n      })\r\n    })\r\n    .then(this._resolve)\r\n  }\r\n  /**\r\n   * signIn метод отправки запроса авторизации\r\n   */\r\n  signIn ({email, password}) {\r\n    return fetch(`${this._url}/signin`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        password,\r\n        email\r\n      })\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n  /**\r\n   * \r\n   */\r\n  checkUser({jwt}) {\r\n    const headers = Object.assign(this._headers);\r\n    headers['Authorization'] = `Bearer ${jwt}`;\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers\r\n    })\r\n    .then(this._resolve);\r\n  }\r\n  _resolve(response) {\r\n    if(response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${response.status}`)\r\n  }\r\n}\r\n\r\nconst auth = new Authorization({url: 'https://auth.nomoreparties.co', headers: {\r\n  \"Content-Type\": \"application/json\" \r\n  }\r\n}, 'test');\r\n\r\nexport default auth;","function PopupWithForm (props){\r\n  return (\r\n    <section className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}\r\n      onClick={props.onClose}\r\n    >\r\n    <button className=\"popup__close-button\" type=\"reset\" aria-label=\"Close\"></button>\r\n    <form className=\"popup__container\" name={props.name} onSubmit={props.onSubmit}>\r\n      <h2 className=\"popup__title\">{props.title}</h2>\r\n      {props.children}\r\n      <button className='popup__confirm popup__confirm_active' type=\"submit\">{props.buttonText}</button>\r\n    </form>\r\n  </section>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup (props) {\r\n  // Объявляем контекст текущего пользователя\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // Обявляем состояния (имя и описание)\r\n  const [name, setName] = React.useState('Жак-Ив Кусто');\r\n  const [description, setDescription] = React.useState('Морской исследователь');\r\n  //объявляем методы изменения input-ов\r\n  const changeName = (evt) => {\r\n    // const newName = evt.currentTarget.value ? evt.currentTarget.value : name;\r\n    setName(evt.currentTarget.value);\r\n  }\r\n  const changeDescription = (evt) => {\r\n    const newDescriptiopn = evt.currentTarget.value ? evt.currentTarget.value : description;\r\n    setDescription(newDescriptiopn);\r\n  }\r\n  //Создаем эфект для обновления state-переменных, при обновлении контекста \r\n  //текущего пользователя\r\n  React.useEffect(() => {\r\n    if(currentUser['name']) {setName(currentUser.name)};\r\n    if(currentUser['about']) {setDescription(currentUser.about)};\r\n  }, [currentUser, props.isOpen])\r\n  //объявляем метод для сохранения данных по польховтелю\r\n  const handleSubmit = (evt) => { \r\n    // api.changeUserInfo({name, description});\r\n    evt.preventDefault();\r\n    props.onUpdateUser({name, about: description});\r\n  }\r\n  //объявляем переменную для хранения input-ов\r\n  const childrenEditProfile = (\r\n    <>\r\n      <input className=\"popup__input popup__input_purpose_name\" name=\"element-name\" type=\"text\" placeholder=\"Имя\"\r\n        required minLength=\"2\" maxLength=\"40\" value={name} onChange={changeName}/>\r\n      <span className=\"popup__input-error element-name-placeholder\"></span>\r\n      <input className=\"popup__input popup__input_purpose_description\" name=\"element-link\" type=\"text\"  \r\n        placeholder=\"Описание деятельности\" required minLength=\"2\" maxLength=\"200\" value={description} onChange={changeDescription}/>\r\n      <span className=\"popup__input-error element-link-placeholder\"></span>\r\n      {/* <button className=\"popup__confirm\" type=\"submit\">Сохранить</button> */}\r\n    </>\r\n  );\r\n  return (\r\n    <PopupWithForm name=\"editProfile\" title=\"Редактировать профиль\" \r\n              isOpen={props.isOpen}\r\n              onClose={props.onClose}\r\n              onSubmit={handleSubmit}\r\n              buttonText='Сохранить'>\r\n              {childrenEditProfile}\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup (props) {\r\n  //Объявляем метод измеенения поля, содержащего ссылку на аватар\r\n  const inputRef = React.useRef(null);\r\n\r\n  const handleSubmit = (evt) => {\r\n    const avatar = inputRef.current.value;\r\n    evt.preventDefault();\r\n    props.onUpdateAvatar(avatar);\r\n  }\r\n\r\n  const childrenEditAvatar = (\r\n    <>\r\n      <input className=\"popup__input popup__input_purpose_description popup__input_purpose_link\" name=\"avatarEditor-link\" type=\"url\"  \r\n        placeholder=\"Ссылка на картинку\" ref={inputRef} />\r\n      <span className=\"popup__input-error avatarEditor-link-placeholder\"></span>\r\n    </>\r\n  );\r\n  return (\r\n    <PopupWithForm name=\"editAvatar\" title=\"Обновить аватар\"  buttonText='Сохранить'\r\n      isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            {childrenEditAvatar}\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\"\r\n\r\nfunction AddPlacePopup (props) {\r\n  // const urlRef = React.useRef();\r\n  const [name, setName] = React.useState('');\r\n  const [imageLink, setImageLink] = React.useState('');\r\n  //Объявляем метод для обработки изменения popup__input_purpose_name\r\n  const nameChange = (evt) => {\r\n    setName(evt.currentTarget.value);\r\n  }\r\n  const imageLinkChange = (evt) => {\r\n    setImageLink(evt.currentTarget.value)\r\n  }\r\n  //Объявляем обработчик отправки формы\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    props.onAddPlace({name, link: imageLink});\r\n    setName('');\r\n    setImageLink('');\r\n  }\r\n  const childrenAddPlace = (\r\n    <>\r\n      <input className=\"popup__input popup__input_purpose_name\" name=\"profileEditor-name\" type=\"text\"  placeholder=\"Название\"\r\n        required minLength=\"2\" maxLength=\"30\" value={name} onChange={nameChange}/>\r\n      <span className=\"popup__input-error profileEditor-name-placeholder\"></span>\r\n      <input className=\"popup__input popup__input_purpose_description\" name=\"profileEditor-description\" type=\"url\"  \r\n        placeholder=\"Ссылка на картинку\" value={imageLink} onChange={imageLinkChange}/>\r\n      <span className=\"popup__input-error profileEditor-description-placeholder\"></span>\r\n    </>\r\n  )\r\n  return (\r\n    <PopupWithForm name=\"addPlace\" title=\"Новое место\" isOpen={props.isOpen}\r\n              onClose={props.onClose} buttonText='Создать' onSubmit={handleSubmit}>\r\n              {childrenAddPlace}\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nfunction AuthComponent (props) {\r\n  const placeholders = props.placeholders;\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  /**\r\n   * переопределяем обработчик отправки формы \r\n   * @param {event obj} e \r\n   */\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.onSubmit({email, password});\r\n  }\r\n  return (\r\n    <div className=\"auth-form-container body__auth-form\">\r\n    <h2 className=\"auth-form__title\">{props.title}</h2>\r\n    <form className=\"auth-form\" onSubmit={handleSubmit}>  \r\n      <input className=\"auth-form__input auth-form__email\" name=\"userEmail\" type=\"email\" placeholder={placeholders[0]} \r\n        value={email} onChange={ (evt) => { setEmail(evt.currentTarget.value) }}/>\r\n      <input className=\"auth-form__input auth-form__password\" name=\"userPassword\" type=\"password\" placeholder={placeholders[1]}\r\n        value={password} onChange={ (evt) => { setPassword(evt.currentTarget.value) }}/>\r\n      <button className=\"auth-form__confirm\" type=\"submit\">{props.submitTitle}</button>\r\n      { props.isReg ? <Link className=\"auth-form__login\" to=\"/sign-in\">Уже зарегистрированы? Войти</Link> : null}\r\n    </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthComponent;","import React from 'react';\r\nimport AuthComponent from './AuthComponent.js';\r\n\r\nfunction Login (props) {\r\n  return (\r\n    <AuthComponent title={props.title} submitTitle={props.submitTitle} placeholders={props.placeholders}\r\n      onSubmit={props.onSignedIn}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport ImagePopup from './ImagePopup.js';\r\nfunction InfoTooltip (props) {\r\n  return (\r\n      <ImagePopup card={props.succsessObj.image ? {link: props.succsessObj.image, name: props.succsessObj.caption} : null} \r\n        isTooltip={true} \r\n        onClose={props.onClose}\r\n      />\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react';\r\nimport AuthComponent from './AuthComponent.js';\r\n\r\nfunction Register (props) {\r\n\r\n  // const handleSubmit = (e) => {\r\n  //   const data = {}\r\n  //   e.preventDefault();\r\n  //   const inputArr = Array.from(e.currentTarget.children);\r\n  //   inputArr.forEach((item) => {\r\n  //     if(item.type !== 'submit') {\r\n  //       data[item.type] = item.value\r\n  //     }\r\n  //   });\r\n  //   props.onSignedUp(data);\r\n  // }\r\n\r\n  return (\r\n    <AuthComponent title={props.title} \r\n      submitTitle={props.submitTitle} \r\n      placeholders={props.placeholders}\r\n      onSubmit={props.onSignedUp}\r\n      isReg={props.isReg}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/Fail.d4ce2a26.svg\";","export default __webpack_public_path__ + \"static/media/Success.a9eb6caf.svg\";","import React from 'react';\r\nimport { Switch, Route, useHistory } from 'react-router-dom';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport api from '../utils/api.js';\r\nimport auth from '../utils/authorization.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport Login from './Login.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport Register from './Register.js';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\nimport logoFail from '../images/InfoTooltip/Fail.svg';\r\nimport logoSuccess from '../images/InfoTooltip/Success.svg';\r\n\r\n\r\nfunction App (props) {\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [cards, setCards] = React.useState([]);\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [succsessObj, setSuccessObj] = React.useState({image: null, caption: null});\r\n  const [currentLogin, setCurrentLogin] = React.useState(null);\r\n  const history = useHistory();\r\n  const _ESC_CODE = 27;\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  // обработчик открытия popup-a добавления карточки\r\n  const handleAddPlaceClick = () => {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  // обработчик открытия карточки\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  }\r\n  //метод логирования ошибок\r\n  const reject = (err) => {\r\n    \r\n    console.log(err);\r\n  }\r\n  const handleAuth = (result) => {\r\n    let caption, \r\n      email = result.data && result.data.email ? result.data.email : null;\r\n    let token = result.token ? result.token : null;\r\n    if(result['error'] !== undefined) { caption = result['error'] } \r\n    if(result['message'] !== undefined) { caption = result['message'] }\r\n      if(caption !== undefined) {\r\n        setSuccessObj({image: logoFail, caption});\r\n        return null\r\n      } else {\r\n        return email ? email : token;\r\n      }\r\n  }\r\n  /**\r\n   * handleSignUp - метод отправки запроса для регистрации\r\n   * @param {{email, password}} data \r\n   */\r\n  const handleSignUp = (data) => {\r\n    auth.signUp(data)\r\n    .then(handleAuth)\r\n    .then( (email) => {\r\n      setCurrentLogin(email);\r\n      setLoggedIn(true);\r\n      setSuccessObj({image: logoSuccess, caption: 'Вы успешно зарегистрировались!'});\r\n    })\r\n    .catch( ( response ) => {\r\n      reject(response);\r\n      setSuccessObj({image: logoFail, caption: 'Что-то пошло не так! Попробуйте ещё раз.'});\r\n    });\r\n  } \r\n  /**\r\n   * handleSignUp - метод отправки запроса для авторизации\r\n   * @param {{email, password}} data \r\n   */\r\n  const handleSignIn = (data) => {\r\n    auth.signIn(data)\r\n    .then( handleAuth )\r\n    .then( (token) => {\r\n      localStorage.setItem('token', token);\r\n      setCurrentLogin(data.email);\r\n      setLoggedIn(true);\r\n      setSuccessObj({image: logoSuccess, caption: 'Вы успешно авторизовались!'}); \r\n    })\r\n    .catch( ( response ) => {\r\n      reject(response);\r\n      setSuccessObj({image: logoFail, caption: 'Что-то пошло не так! Попробуйте ещё раз.'});\r\n    });\r\n  }\r\n\r\n  // обработчик нажатия ESC\r\n  const clickEscape = (evt) => {\r\n  if(evt.keyCode === _ESC_CODE) {\r\n    closeAllPopups();\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n\r\n    const jwt = localStorage.getItem('token');\r\n    // // Проверяем коректность токена, если он верен, перебрасываем пользователя на глявную страницу\r\n    if(jwt) {\r\n      auth.checkUser({jwt})\r\n      .then( handleAuth )\r\n      .then( (email) => {\r\n        // const data = result.data;\r\n        if(email) {\r\n          setLoggedIn(true);\r\n          setCurrentLogin(email);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch(reject);\r\n    }\r\n\r\n    //делаем запрос данных текщего пользователя через API\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n    .then(([userInfo, cardsList]) => {\r\n      setCurrentUser(userInfo);\r\n      setCards(cardsList);\r\n    })\r\n    .catch(reject);\r\n    document.addEventListener('keyup', clickEscape);\r\n    return () => {\r\n      document.removeEventListener('keyup', clickEscape);\r\n    }\r\n  }, [history, loggedIn]);\r\n  /**\r\n   * обработчик закрытия InfoTooltip\r\n   */\r\n  const closeInfoTooltip = () => {\r\n    if(loggedIn) { history.push('/') }\r\n    setSuccessObj({image: null, caption: null});\r\n  }\r\n  // обработчик закрытия Overlay\r\n  const closeOverlay = (evt) => {\r\n    if(evt.target.classList.contains('popup') || evt.target.classList.contains('popup__close-button')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  // закрытие всех popup-ов\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n    closeInfoTooltip();\r\n  }\r\n\r\n  //объявляем обновление данных по пользователю\r\n  const handleUpdateUser = ({name, about}) => {\r\n    if(name && about) {\r\n      api.changeUserInfo({name, about})\r\n      .then((userInfo) => {\r\n        setCurrentUser(userInfo);\r\n        closeAllPopups();\r\n      })\r\n      .catch(reject);\r\n    }\r\n  }\r\n  //Обновляем аватар\r\n  const handleUpdateAvatar = (avatar) => {\r\n    if(avatar) {\r\n      api.changeAvatar({avatar})\r\n      .then((response) => {\r\n        setCurrentUser(response);\r\n        closeAllPopups();\r\n      })\r\n      .catch(reject);\r\n    }\r\n  }\r\n  const handleAddPlace = ({name, link}) => {\r\n    api.addCard({name, link})\r\n    .then((newCard) => {\r\n       setCards([newCard, ...cards])\r\n       closeAllPopups();\r\n     })\r\n    .catch(reject);\r\n  }\r\n  //метод обработки простановки лайков\r\n  const handleCardLike = (card) => {\r\n    const isLike = card.likes.some(i => i._id === currentUser._id);// this.context._id);\r\n    api.changeLike(card._id, !isLike)\r\n    .then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === newCard._id ? newCard : c);\r\n      setCards(newCards)\r\n    })\r\n    .catch(reject);\r\n  }\r\n\r\n const handleCardDelete = (delCard) => {\r\n   api.deleteCard(delCard._id)\r\n   .then(() => {\r\n      const newCards = cards.filter((card) => delCard._id !== card._id ? card : null);\r\n      setCards(newCards);\r\n   })\r\n   .catch(reject);\r\n }\r\n /**\r\n  * Метод обрабатывает выход из учетной записи\r\n  */\r\n const logOut = () => {\r\n  localStorage.removeItem('token');\r\n  setLoggedIn(false);\r\n  setCurrentLogin(null);\r\n }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header email = {currentLogin} logOut={logOut} />\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Switch>\r\n        \r\n        <Route path=\"/sign-up\">\r\n          <Register title=\"Регистрация\" submitTitle=\"Зарегистрироваться\" placeholders={['Email', 'Пароль']} \r\n          onSignedUp={handleSignUp} isReg={true}\r\n          />\r\n          \r\n        </Route>\r\n        <Route path=\"/sign-in\">\r\n          <Login title=\"Вход\" submitTitle=\"Войти\" placeholders={['Email', 'Пароль']}\r\n            onSignedIn={handleSignIn}\r\n          />\r\n        </Route>\r\n\r\n        <ProtectedRoute\r\n              loggedIn={loggedIn}\r\n              path=\"/\"\r\n              component={Main}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardClick={handleCardClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}> \r\n          </ProtectedRoute>\r\n        \r\n          <Footer/>\r\n\r\n        </Switch>\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeOverlay} onUpdateUser={handleUpdateUser}/>\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeOverlay} onAddPlace={handleAddPlace}/>\r\n        <ImagePopup card={selectedCard} onClose={closeOverlay} />\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeOverlay} onUpdateAvatar={handleUpdateAvatar} />\r\n        <InfoTooltip succsessObj={succsessObj} onClose={closeOverlay} />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}